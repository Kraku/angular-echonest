!function(){"use strict";angular.module("angular-echonest",[]).provider("Echonest",function(){var a,b,c,d,e,f="http://developer.echonest.com/api/v4/",g="",h=function(a,b,c){b.api_key=g,b.format="jsonp",b.callback="JSON_CALLBACK",e({method:"JSONP",url:f+a,params:b}).success(function(a){c(a.response)}).error(function(){})},i=function(a,b){var c=this;return b=b||{},b.id=c.id,h("artist/"+a,b,function(b){c[a]=b[a]}),c},j=function(a){var b=[];if(a instanceof Object)for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},k=function(b,c,d){h("artist/"+b,c,function(b){var c=[];for(var e in b.artists)c.push(new a(b.artists[e]));d(c,b.status)})};this.setApiKey=function(a){g=a},a=function(a){if(a instanceof Object)for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);return this},a.prototype={getBiographies:function(a){return i.call(this,"biographies",a),this},getBlogs:function(a){return i.call(this,"blogs",a),this},getImages:function(a){return i.call(this,"images",a),this},getNews:function(a){return i.call(this,"news",a),this},getReviews:function(a){return i.call(this,"reviews",a),this},getSongs:function(a){return i.call(this,"songs",a),this},getFamiliarity:function(a){return i.call(this,"familiarity",a),this},getHotnes:function(a){return i.call(this,"hotttnesss",a),this},getSimilar:function(a){return i.call(this,"similar",a),this},getTerms:function(a){return i.call(this,"terms",a),this},getTwitter:function(a){return i.call(this,"twitter",a),this},getUrls:function(a){return i.call(this,"urls",a),this}},b=function(){return this},b.prototype={search:function(a,b){var c=j(a);return k.call(this,"search",c,function(a,c){b(a,c)}),this},get:function(b,c){return b instanceof Object&&h("artist/profile",b,function(b){c(new a(b.artist),b.status)}),this},topHot:function(a,b){var c=j(a);return k.call(this,"top_hottt",c,function(a,c){b(a,c)}),this},suggest:function(a,b){var c=j(a);return k.call(this,"suggest",c,function(a,c){b(a,c)}),this},extract:function(a,b){var c=j(a);return k.call(this,"extract",c,function(a,c){b(a,c)}),this}},c=function(){return this},c.prototype={search:function(a,b){var c=j(a);return h("song/search",c,function(a){b(a.songs,a.status)}),this},get:function(a,b){return a instanceof Object&&h("song/profile",a,function(a){b(a.songs[0],a.status)}),this},identify:function(a,b){var c=j(a);return h("song/identify",c,function(a){b(a.songs,a.status)}),this}},this.$get=function(a){return e=a,d={artists:new b,songs:new c}}})}();